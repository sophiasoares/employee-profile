<div class="role-switcher">
  <div class="current-user" (click)="toggleDropdown()">
    <div class="user-info">
      <span class="user-name">{{ getFullName(roleService.user()) }}</span>
      <span class="user-role" [class]="getRoleClass(roleService.user().role)">{{ formatRole(roleService.user().role) }}</span>
    </div>
    <i class="fas fa-chevron-down dropdown-icon" [class.rotated]="isDropdownOpen()"></i>
  </div>
  
  @if (isDropdownOpen()) {
    <div class="dropdown-menu">
      <div class="dropdown-header">Switch Role</div>
      @for (employee of demoEmployees; track employee.id) {
        <button 
          class="dropdown-item"
          [class.active]="employee.id === roleService.user().id"
          (click)="selectUser(employee)">
          <div class="user-option">
            <span class="option-name">{{ getFullName(employee) }}</span>
            <span class="option-role" [class]="getRoleClass(employee.role)">{{ formatRole(employee.role) }}</span>
          </div>
        </button>
      }
    </div>
  }
</div>
