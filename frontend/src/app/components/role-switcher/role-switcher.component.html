<div class="role-switcher">
  <div class="current-user" (click)="toggleDropdown()">
    <div class="user-info">
      <span class="user-name">{{ roleService.user().name }}</span>
      <span class="user-role" [class]="getRoleClass()">{{ formatRole(roleService.user().role) }}</span>
    </div>
    <i class="fas fa-chevron-down dropdown-icon" [class.rotated]="isDropdownOpen()"></i>
  </div>
  
  @if (isDropdownOpen()) {
    <div class="dropdown-menu">
      <div class="dropdown-header">Switch Role</div>
      @for (user of demoUsers; track user.id) {
        <button 
          class="dropdown-item"
          [class.active]="user.id === roleService.user().id"
          (click)="selectUser(user)">
          <div class="user-option">
            <span class="option-name">{{ user.name }}</span>
            <span class="option-role" [class]="getRoleClass(user.role)">{{ formatRole(user.role) }}</span>
          </div>
        </button>
      }
    </div>
  }
</div>
